[gd_scene load_steps=6 format=3]

[ext_resource type="Script" path="res://scripts/explosion.gd" id="1"]
[ext_resource type="Material" path="res://materials/enemy_material.tres" id="2"]

[sub_resource type="SphereMesh" id="1"]

[sub_resource type="ParticleProcessMaterial" id="2"]
gravity = Vector3(0, -9.8, 0)
initial_velocity_min = 4.0
initial_velocity_max = 8.0
scale_curve = SubResource( 3 )

[sub_resource type="Curve" id="3"]

[node name="Explosion" type="Node3D"]
script = ExtResource( 1 )

[node name="Flash" type="OmniLight3D" parent="."]
light_energy = 1.5
range = 6.0
color = Color(1, 0.5, 0.3, 1)

[node name="Particles" type="GPUParticles3D" parent="."]
amount = 80
lifetime = 0.8
explosiveness = 0.9
one_shot = true
process_material = SubResource( 2 )

[node name="MeshInstance3D" type="MeshInstance3D" parent="Particles"]
mesh = SubResource( 1 )
material_override = ExtResource( 2 )

